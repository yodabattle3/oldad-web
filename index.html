<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OLDAD</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* Reset */
    * { margin:0; padding:0; box-sizing:border-box; }

    body {
      font-family: 'Roboto', sans-serif;
      background-color: #121212;
      color: #f0f0f0;
      overflow-x: hidden;
    }

    /* Particles */
    #particles-js {
      position: fixed;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    /* Header */
    header {
      background: linear-gradient(90deg, #ff4d4d, #ff7f50);
      padding: 20px 0;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      position: sticky;
      top:0;
      z-index: 10;
    }

    header .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 90%;
      margin: 0 auto;
    }

    header h1 { font-size: 2em; font-weight: 700; }

    nav ul { list-style: none; display:flex; gap:25px; }

    nav ul li a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      transition:.3s;
    }

    nav ul li a:hover { color: #ffe100; transform:scale(1.1); }

    /* Hero */
    .hero {
      text-align:center;
      padding:100px 20px;
      background: linear-gradient(180deg, #1a1a1a, #2a2a2a);
      border-radius:20px;
      margin:20px;
      box-shadow: inset 0 0 50px rgba(255,255,255,0.05);
    }

    .hero h2 { font-size:3em; margin-bottom:10px; }
    .hero p { font-size:1.3em; margin-bottom:30px; }

    .hero .buttons button {
      margin:10px;
      padding:15px 30px;
      border:none;
      border-radius:50px;
      font-size:1em;
      cursor:pointer;
      background: linear-gradient(90deg,#4d79ff,#3355cc);
      color:white;
      transition:.3s;
    }

    .hero .buttons button:hover { transform:scale(1.05); opacity:.9; }

    /* Glass cards */
    .glass {
      background: rgba(255,255,255,0.05);
      border-radius: 15px;
      padding:20px;
      backdrop-filter: blur(10px);
      border:1px solid rgba(255,255,255,0.1);
      transition: transform .3s, box-shadow .3s;
    }

    .glass:hover { transform: translateY(-5px); box-shadow:0 10px 25px rgba(0,0,0,0.5); }

    /* Videos */
    .video-cards {
      display:flex;
      justify-content:center;
      gap:40px;
      flex-wrap:wrap;
      margin-top:30px;
    }

    .video-wrapper iframe, .carousel-wrapper iframe { width:100%; height:220px; border:none; border-radius:10px; }

    /* Shorts */
    .carousel-wrapper { overflow:hidden; position:relative; height:220px; }
    .carousel-wrapper .short-slide { display:none; }
    .carousel-wrapper .short-slide.active { display:block; }

    .carousel-controls { margin-top:10px; text-align:center; }
    .carousel-controls button {
      background: linear-gradient(90deg,#4d79ff,#3355cc);
      color:white;
      border:none;
      padding:8px 16px;
      border-radius:50px;
      cursor:pointer;
      margin:0 5px;
      transition:.3s;
    }
    .carousel-controls button:hover { transform:scale(1.1); opacity:.9; }

    /* Loadouts */
    .loadouts { padding:50px 20px; text-align:center; }
    .loadout-cards { display:flex; justify-content:center; gap:20px; flex-wrap:wrap; margin-top:30px; }
    .loadout-card { width:200px; height:120px; display:flex; justify-content:center; align-items:center; font-weight:bold; font-size:1.2em; cursor:pointer; transition:.3s; }
    .loadout-card:hover { transform:scale(1.05); box-shadow:0 10px 25px rgba(0,0,0,0.5); }

    /* Socials */
    .socials { padding:50px 20px; text-align:center; background-color:#1a1a1a; }
    .social-buttons { display:flex; justify-content:center; gap:20px; margin-top:20px; }
    .social-btn { padding:12px 25px; border-radius:50px; font-weight:bold; text-decoration:none; transition:.3s; }
    .social-btn.kick { background-color:#00a54f; color:white; }
    .social-btn.youtube { background-color:#ff0000; color:white; }
    .social-btn.discord { background-color:#7289da; color:white; }
    .social-btn:hover { transform:scale(1.1); opacity:.9; }

    /* Footer */
    footer {
      background-color:#111;
      text-align:center;
      padding:20px 0;
      margin-top:50px;
      border-top:1px solid rgba(255,255,255,0.1);
    }
  </style>
</head>
<body>
  <div id="particles-js"></div>

  <header>
    <div class="container">
      <h1>OLDAD</h1>
      <nav>
        <ul>
          <li><a href="#" id="homeBtn">Home</a></li>
          <li><a href="#" id="loadoutsBtn">Loadouts</a></li>
          <li><a href="#" id="profileBtn">Profile</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <h2>Welcome to OLDAD</h2>
      <p>Your hub for latest live streams, shorts, and loadouts!</p>
      <div class="buttons">
        <button id="profileBtnHero">Visit Profile</button>
        <button id="loadoutsBtnHero">View Loadouts</button>
      </div>
    </section>

    <section class="videos">
      <h2>Latest Content</h2>
      <div class="video-cards">
        <div class="video-card glass" id="latest-live">
          <h3>Latest Live</h3>
          <div class="video-wrapper" id="live-video">Loading...</div>
        </div>

        <div class="video-card glass" id="latest-shorts-carousel">
          <h3>Latest Shorts</h3>
          <div class="carousel-wrapper" id="shorts-carousel">Loading...</div>
          <div class="carousel-controls">
            <button id="prev-short">◀</button>
            <button id="next-short">▶</button>
          </div>
        </div>
      </div>
    </section>

    <section class="loadouts">
      <h2>Loadouts</h2>
      <div class="loadout-cards">
        <div class="loadout-card glass">Loadout 1</div>
        <div class="loadout-card glass">Loadout 2</div>
        <div class="loadout-card glass">Loadout 3</div>
      </div>
    </section>

    <section class="socials">
      <h2>Follow OLDAD</h2>
      <div class="social-buttons">
        <a href="https://kick.com/oldadd" target="_blank" class="social-btn kick">Kick</a>
        <a href="https://youtube.com/@OLDAD_" target="_blank" class="social-btn youtube">YouTube</a>
        <a href="https://discord.gg/dc4a82jxkE" target="_blank" class="social-btn discord">Discord</a>
      </div>
    </section>
  </main>

  <footer>
    <p>© 2025 OLDAD</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script>
    const API_KEY = "AIzaSyCKHnH7eRDlsORRP8pTXY2lpyf9ls80dAk";
    const CHANNEL_ID = "UCBxqKrvEf45YwruFdbZQslQ";

    let shortsSlides = [];
    let currentShortIndex = 0;

    async function fetchLatestLive() {
      const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${CHANNEL_ID}&eventType=live&type=video&key=${API_KEY}&order=date&maxResults=1`;
      const res = await fetch(url);
      const data = await res.json();
      const liveDiv = document.getElementById("live-video");
      if(data.items && data.items.length>0){
        const videoId = data.items[0].id.videoId;
        liveDiv.innerHTML = `<iframe src="https://www.youtube.com/embed/${videoId}" allowfullscreen></iframe>`;
      } else { liveDiv.innerHTML = "No live video currently."; }
    }

    async function fetchLatestShorts() {
      const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${CHANNEL_ID}&type=video&order=date&maxResults=20&key=${API_KEY}`;
      const res = await fetch(url);
      const data = await res.json();
      const carousel = document.getElementById("shorts-carousel");
      carousel.innerHTML = "";
      shortsSlides=[];
      for(let item of data.items){
        const videoId=item.id.videoId;
        const detailsRes = await fetch(`https://www.googleapis.com/youtube/v3/videos?part=contentDetails&id=${videoId}&key=${API_KEY}`);
        const detailsData = await detailsRes.json();
        const duration = detailsData.items[0].contentDetails.duration;
        const match = duration.match(/PT(?:(\d+)M)?(?:(\d+)S)?/);
        const minutes = match[1]?parseInt(match[1]):0;
        const seconds = match[2]?parseInt(match[2]):0;
        const totalSeconds = minutes*60+seconds;
        if(totalSeconds<=60){
          const slide = document.createElement("div");
          slide.classList.add("short-slide");
          slide.innerHTML = `<iframe src="https://www.youtube.com/embed/${videoId}" allowfullscreen></iframe>`;
          carousel.appendChild(slide);
          shortsSlides.push(slide);
        }
      }
      if(shortsSlides.length>0) shortsSlides[0].classList.add("active");
      else carousel.innerHTML="No shorts available.";
    }

    function showShort(index){
      shortsSlides.forEach((slide,i)=>slide.classList.toggle("active", i===index));
    }

    document.addEventListener("DOMContentLoaded",()=>{
      const profileBtns = [document.getElementById("profileBtn"), document.getElementById("profileBtnHero")];
      const loadoutBtns = [document.getElementById("loadoutsBtn"), document.getElementById("loadoutsBtnHero")];
      profileBtns.forEach(btn=>btn.addEventListener("click",()=>window.open("https://codmunity.gg/profile/OLDAD_","_blank")));
      loadoutBtns.forEach(btn=>btn.addEventListener("click",()=>window.open("https://codmunity.gg/profile/OLDAD_","_blank")));

      document.getElementById("prev-short").addEventListener("click",()=>{if(shortsSlides.length===0)return; currentShortIndex=(currentShortIndex-1+shortsSlides.length)%shortsSlides.length; showShort(currentShortIndex);});
      document.getElementById("next-short").addEventListener("click",()=>{if(shortsSlides.length===0)return; currentShortIndex=(currentShortIndex+1)%shortsSlides.length; showShort(currentShortIndex);});

      fetchLatestLive();
      fetchLatestShorts();
      setInterval(()=>{ fetchLatestLive(); fetchLatestShorts(); }, 300000);

      particlesJS("particles-js", {
        particles: {
          number:{value:80,density:{enable:true,value_area:800}},
          color:{value:"#ffffff"},
          shape:{type:"circle"},
          opacity:{value:0.1,random:true},
          size:{value:3,random:true},
          line_linked:{enable:true,distance:150,color:"#ffffff",opacity:0.1,width:1},
          move:{enable:true,speed:1,direction:"none",random:true,straight:false,out_mode:"out"}
        },
        interactivity:{detect_on:"canvas",events:{onhover:{enable:true,mode:"repulse"},onclick:{enable:true,mode:"push"}},modes:{repulse:{distance:100},push:{particles_nb:4}}},
        retina_detect:true
      });
    });
  </script>
</body>
</html>
